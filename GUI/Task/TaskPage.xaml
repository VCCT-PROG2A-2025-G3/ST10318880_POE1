<Page x:Class="ST10318880_POE1.GUI.Task.TaskPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:local="clr-namespace:ST10318880_POE1.GUI.Task"
      Title="TaskPage">

  <Page.Resources>
    <local:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
  </Page.Resources>

  <Grid Margin="20">
    <StackPanel Orientation="Vertical"
                HorizontalAlignment="Center"
                Width="400">

      <TextBlock Text="Add Cybersecurity Task"
                 FontSize="20"
                 FontWeight="Bold"
                 Margin="0,0,0,10"/>

      <TextBlock Text="Task Title"
                 Margin="0,5,0,0"/>
      <TextBox x:Name="TitleInput"
               Margin="0,0,0,10"/>

      <TextBlock Text="Task Description"
                 Margin="0,5,0,0"/>
      <TextBox x:Name="DescriptionInput"
               Margin="0,0,0,10"
               Height="100"
               TextWrapping="Wrap"
               AcceptsReturn="True"/>

      <CheckBox x:Name="EnableReminderCheckbox"
                Content="Set Reminder"
                Margin="0,10,0,5"
                Checked="EnableReminderCheckbox_Checked"
                Unchecked="EnableReminderCheckbox_Unchecked"/>

      <!-- Reminder options -->
      <StackPanel x:Name="ReminderOptionsPanel"
                  Visibility="Collapsed">
        <TextBlock Text="Reminder Date:"/>
        <DatePicker x:Name="ReminderDatePicker"
                    Margin="0,5"/>
        <TextBlock Text="Or Time Frame (e.g., 'in 2 days'):"/>
        <TextBox x:Name="TimeFrameInput"
                 Margin="0,5"/>
      </StackPanel>

      <Button Content="Add Task"
              Width="100"
              Margin="0,15"
              Click="AddTask_Click"/>

      <TextBlock Text="All Tasks"
                 FontWeight="Bold"
                 FontSize="16"
                 Margin="0,20,0,10"/>

      <ListBox x:Name="TaskListBox"
               SelectionChanged="TaskListBox_SelectionChanged"
               Height="200">
        <ListBox.ItemTemplate>
          <DataTemplate>
            <StackPanel Orientation="Horizontal">
              <TextBlock Text="{Binding Title}"
                         FontWeight="Bold"
                         Margin="0,0,5,0"/>

              <TextBlock Text="(Completed)"
                         Foreground="Green"
                         Visibility="{Binding IsCompleted, Converter={StaticResource BoolToVisibilityConverter}}"
                         Margin="5,0,0,0"/>

              <TextBlock Text="(To Do)"
                         Foreground="Red"
                         Visibility="{Binding IsCompleted, Converter={StaticResource BoolToVisibilityConverter}, ConverterParameter=invert}"
                         Margin="5,0,0,0"/>
                         
            </StackPanel>
          </DataTemplate>
        </ListBox.ItemTemplate>
      </ListBox>
    </StackPanel>
  </Grid>
</Page>
